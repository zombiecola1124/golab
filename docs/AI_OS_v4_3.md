# 군단 OS v4.3 — 운영 원칙 & 워크플로우

> 최종 갱신: 2026-02-12
> 적용 범위: golab 프로젝트 전 세션

---

## 1. 개요

**군단 OS**는 1인 사업자(사장) + AI 에이전트 군단으로 운영되는 초소형 기업 운영체제이다.
사람 한 명의 의사결정 아래, 복수의 AI 에이전트가 각각 전문 역할을 수행한다.

| 버전 | 핵심 변경 |
|------|----------|
| v4.0 | 멀티엔진(GPT/Gemini/Genspark) 아키텍처 도입 |
| v4.1 | 에이전트 역할 분리(최실장/박이사/트럼프/강팀장) |
| v4.2 | 콘텐츠팀 Dormant 규칙, ROI 5배 기준 도입 |
| v4.3 | Kill Switch, 60초 제한, 채널 제한 정책 확정 |

---

## 2. 핵심 원칙

### 2.1 사장 = 유일한 의사결정자
- 모든 최종 결정은 사장이 내린다.
- AI 에이전트는 **조사 → 분석 → 제안**까지만 수행하며, 실행은 사장의 승인 후 진행한다.

### 2.2 60초 Rule
- 모든 AI 보고·제안은 **60초 이내에 핵심을 전달**할 수 있어야 한다.
- 길어지면 "한줄 요약 + 상세 링크" 구조로 분리한다.

### 2.3 Kill Switch
- 사장이 "중지", "스톱", "kill" 명령을 내리면 **모든 진행 중인 작업을 즉시 중단**한다.
- 비용이 발생하는 API 호출은 즉시 차단한다.
- 중단 후 상태를 보고하고, 재개 지시를 대기한다.

### 2.4 비용 최소화
- 무료 티어를 우선 활용한다.
- 유료 API 호출 전 사장 승인을 받는다.
- 월 예산 한도를 초과하면 자동으로 Dormant 모드에 진입한다.

---

## 3. 멀티엔진 아키텍처

```
┌────────────────────────────────────────────┐
│              사장 (의사결정)                 │
└────────────┬───────────────────────────────┘
             │ 지시
┌────────────▼───────────────────────────────┐
│          최실장 (오케스트레이터)              │
│          orchestrator.py                    │
└──┬──────────────┬──────────────┬───────────┘
   │              │              │
┌──▼───┐    ┌────▼────┐   ┌────▼──────┐
│ GPT  │    │ Gemini  │   │ Genspark  │
│전략설계│    │데이터분석│   │트렌드조사  │
└──────┘    └─────────┘   └───────────┘
```

| 엔진 | 역할 | 환경변수 |
|------|------|---------|
| GPT (OpenAI) | 전략 기획, 코드 리뷰, 핵심 로직 설계 | `OPENAI_API_KEY` |
| Gemini (Google) | 대규모 데이터 분석, 패턴 인사이트 | `GEMINI_API_KEY` |
| Genspark | 실시간 시장 트렌드, 경쟁사 분석 | `GENSPARK_API_KEY` |

---

## 4. 워크플로우

### 4.1 일일 파이프라인
```
1. 엔진 상태 확인 (smoke test)
2. Genspark → 시장 트렌드 수집 → research/genspark_report.json
3. Gemini → 수집 데이터 심층 분석
4. GPT → 분석 결과 기반 전략/액션 아이템 도출
5. 최실장 → 사장에게 60초 요약 보고
```

### 4.2 의사결정 흐름
```
에이전트 제안 → 사장 승인/거부/보류 → 승인 시 실행 → 결과 보고
```

---

## 5. 폴더 구조

```
golab/
├── docs/               # 운영 문서 (이 파일 포함)
├── research/           # Genspark 리포트 저장
├── finance/            # 재무 데이터
├── sales/              # 영업 데이터
├── inventory/          # 재고 관리
├── memo/               # 메모·회의록
├── .github/workflows/  # CI/CD
├── orchestrator.py     # 멀티엔진 오케스트레이터
├── engine_config.py    # 엔진 설정
├── gpt_client.py       # GPT 클라이언트
├── gemini_client.py    # Gemini 클라이언트
├── genspark_client.py  # Genspark 클라이언트
└── .env                # API 키 (git 추적 제외)
```

---

## 6. 보안 원칙

- API 키는 **절대 코드에 하드코딩하지 않는다**.
- 로컬: `.env` 파일 사용 (`.gitignore`에 등록)
- CI/CD: GitHub Secrets 사용
- `.env` 파일은 커밋하지 않는다.
